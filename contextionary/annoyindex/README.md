Based on https://github.com/spotify/annoy/tree/d1ba6a9405e06203b842e6ebbbea58deda388631/src
